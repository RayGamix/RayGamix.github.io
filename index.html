Made by Raybod - Hergestellt von Raybod
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RayGamix Launcher</title>
  <style>
    :root {
      --bg: #000;
      --panel: #071018;
      --card: #111;
      --muted: #9aa;
      --accent: #00b7ff;
      --accent-2: #00cc66;
      --glass: rgba(255,255,255,0.03);
      --gap: 16px;
      color-scheme: dark;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: #fff;
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* Layout */
    .app {
      display: grid;
      grid-template-columns: 220px 1fr 420px;
      grid-template-rows: 72px 1fr;
      gap: var(--gap);
      height: 100vh;
      padding: 18px;
      box-sizing: border-box;
      align-items: start;
    }

    /* Left column */
    .sidebar {
      grid-row: 1 / span 2;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius: 12px;
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }

    .create-btn {
      writing-mode: vertical-rl;
      transform: rotate(180deg);
      background: linear-gradient(180deg, var(--accent), #0077aa);
      color: #fff;
      padding: 12px 10px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }

    /* Top bar */
    .topbar {
      grid-column: 2 / 4;
      height: 72px;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0 8px;
    }

    .logo { width: 11.5%; border-radius: 8px; object-fit: contain; }

    .search {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--glass);
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    .search input {
      background: transparent;
      border: 0;
      outline: none;
      color: #fff;
      font-size: 15px;
      width: 100%;
    }

    .nav-icons { display: flex; gap: 10px; align-items: center; }
    .nav-icon { padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.02); cursor: pointer; font-size: 13px; color: var(--muted); }

    /* Main content */
    .main { grid-column: 2 / 3; background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius: 12px; padding: 18px; overflow: auto; }
    .tabs { display: flex; gap: 10px; margin-bottom: 14px; }
    .tab { padding: 8px 12px; border-radius: 8px; background: rgba(255,255,255,0.02); cursor: pointer; color: var(--muted); }
    .tab.active { background: linear-gradient(90deg, var(--accent), #0077aa); color: #fff; font-weight: 600; }
    .btn { padding: 8px 12px; border-radius: 8px; background: rgba(255,255,255,0.03); cursor: pointer; color: var(--muted); border: 1px solid rgba(255,255,255,0.02); }
    .btn.primary { background: var(--accent); color: #000; font-weight: 700; border: none; }

    /* Grid of cards */
    .grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap: 16px; }
    .card { background: var(--card); border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 6px 18px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.02); }
    .thumb { width: 100%; height: 140px; object-fit: cover; background: linear-gradient(180deg,#0b2a3a,#04202a); }
    .card-body { padding: 12px; display: flex; gap: 12px; align-items: center; }
    .card-info { flex: 1; }
    .card-title { font-size: 1.05rem; font-weight: 700; margin-bottom: 6px; }
    .card-sub { color: var(--muted); font-size: 0.85rem; margin-bottom: 8px; }
    .card-actions { display: flex; gap: 8px; align-items: center; }
    .play { background: var(--accent); color: #000; padding: 8px 12px; border-radius: 8px; cursor: pointer; border: none; font-weight: 700; }
    .info { background: rgba(255,255,255,0.03); color: var(--muted); padding: 8px 10px; border-radius: 8px; cursor: pointer; border: 1px solid rgba(255,255,255,0.02); }

    /* Right column play area */
    .right { grid-column: 3 / 4; background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius: 12px; padding: 12px; display: flex; flex-direction: column; gap: 12px; }
    .play-frame { flex: 1; border-radius: 10px; overflow: hidden; border: 1px solid rgba(255,255,255,0.03); background: #000; }
    .play-frame iframe { width: 100%; height: 100%; border: 0; display: block; }
    .status-line { color: var(--muted); font-size: 0.95rem; }

    /* responsive */
    @media (max-width:1100px){
      .app{ grid-template-columns: 80px 1fr; grid-template-rows:72px 1fr 420px; }
      .right{ grid-column:1 / -1; grid-row:3 / 4; }
      .topbar{ grid-column:2 / 3; }
      .sidebar{ grid-row:1 / 2; }
    }
  </style>
</head>
<body>

<div class="app">

  <!-- Left sidebar -->
  <div class="sidebar">
    <a class="create-btn" href="#" onclick="createGame()">Create a game</a>
  </div>

  <!-- Topbar -->
  <div class="topbar">
    <img class="logo" src="https://raygamix.github.io/logo.png" alt="logo">
    <div class="search">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:.7">
        <path d="M21 21l-4.35-4.35" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <input id="searchInput" placeholder="Search here for games!" oninput="applyFilters()" />
    </div>

    <div class="nav-icons" style="margin-left:12px">
      <div class="nav-icon" onclick="goHome()">Home</div>
      <div class="nav-icon" onclick="forYou()">For You</div>
      <div class="nav-icon" onclick="openSettings()">Settings</div>
    </div>
  </div>

  <!-- Main content -->
  <div class="main">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="tabs">
          <div class="tab active" data-cat="all" onclick="setCategory('all', this)">All</div>
          <div class="tab" data-cat="multiplayer" onclick="setCategory('multiplayer', this)">Multiplayer</div>
          <div class="tab" data-cat="singleplayer" onclick="setCategory('singleplayer', this)">Singleplayer</div>
          <div class="tab" data-cat="your" onclick="setCategory('your', this)">Your games</div>
          <div class="tab" data-cat="foryou" onclick="setCategory('foryou', this)">For You</div>
        </div>
      </div>

      <div style="display:flex;gap:8px;align-items:center">
        <div class="btn" onclick="startScan()">Discover</div>
        <div class="btn" onclick="stopScan()">Stop</div>
        <div class="btn primary" onclick="loadMore()">Load more</div>
      </div>
    </div>

    <div class="status-line" id="scanStatus">Ready</div>
    <div class="grid" id="grid"></div>
  </div>

  <!-- Right play area -->
  <div class="right">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:700">Play Area</div>
      <div class="status-line" id="rightStatus">No world loaded</div>
    </div>

    <div class="play-frame" id="playFrame" style="height:100%;"></div>
  </div>

</div>

<script>
// ðŸ”¹ SINGLE backend URL
const BACKEND_URL = 'https://raygamix.com/api';
const MAX_ID = 999999999;
let scanning = false;
let concurrency = 8;
let triesPerBatch = 40;
let discovered = new Map();
let activeCategory = 'all';
let searchQuery = '';

const grid = document.getElementById('grid');
const scanStatus = document.getElementById('scanStatus');
const rightStatus = document.getElementById('rightStatus');

function setCategory(cat, el){
  activeCategory = cat;
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  if(el) el.classList.add('active');
  renderGrid();
}

function applyFilters(){
  searchQuery = document.getElementById('searchInput').value.trim().toLowerCase();
  renderGrid();
}

function createGame(){ alert('Create game flow placeholder'); }
function goHome(){ /* placeholder */ }
function forYou(){ /* placeholder */ }
function openSettings(){ alert('Settings placeholder'); }

function makeCard(meta){
  const card = document.createElement('div');
  card.className = 'card';
  card.dataset.id = meta.id;

  const thumb = document.createElement('img');
  thumb.className = 'thumb';
  thumb.src = `${BACKEND_URL}/${meta.id}/${meta.image || 'cover.png'}`;
  thumb.alt = meta.name;
  thumb.onerror = () => { thumb.src = `${BACKEND_URL}/default-cover.png`; };

  const body = document.createElement('div');
  body.className = 'card-body';

  const info = document.createElement('div');
  info.className = 'card-info';

  const title = document.createElement('div');
  title.className = 'card-title';
  title.textContent = meta.name || `Game ${meta.id}`;

  const sub = document.createElement('div');
  sub.className = 'card-sub';
  sub.textContent = `ID: ${meta.id} ${meta.tags ? ' â€¢ ' + meta.tags.join(', ') : ''}`;

  const actions = document.createElement('div');
  actions.className = 'card-actions';

  const play = document.createElement('button');
  play.className = 'play';
  play.textContent = 'Play';
  play.onclick = () => openInPlayArea(meta);

  const infoBtn = document.createElement('button');
  infoBtn.className = 'info';
  infoBtn.textContent = 'Info';
  infoBtn.onclick = () => showInfo(meta);

  actions.appendChild(play);
  actions.appendChild(infoBtn);

  info.appendChild(title);
  info.appendChild(sub);
  body.appendChild(info);
  body.appendChild(actions);

  card.appendChild(thumb);
  card.appendChild(body);

  return card;
}

function renderGrid(){
  grid.innerHTML = '';
  const items = Array.from(discovered.values())
    .filter(meta => {
      if(activeCategory === 'multiplayer' && !(meta.tags||[]).includes('multiplayer')) return false;
      if(activeCategory === 'singleplayer' && !(meta.tags||[]).includes('singleplayer')) return false;
      if(activeCategory === 'your' && !(meta.owner && meta.owner === 'you')) return false;
      if(activeCategory === 'foryou' && !(meta.recommended)) return false;
      if(searchQuery){
        const s = searchQuery;
        return (meta.name && meta.name.toLowerCase().includes(s)) || String(meta.id).includes(s) || (meta.tags||[]).some(t=>t.includes(s));
      }
      return true;
    })
    .sort((a,b)=> (a.name||'').localeCompare(b.name||''));
  if(items.length === 0){
    grid.innerHTML = '<div style="color:var(--muted);padding:20px">No worlds found yet. Click Discover or Load more.</div>';
    return;
  }
  for(const meta of items) grid.appendChild(makeCard(meta));
}

function openInPlayArea(meta){
  rightStatus.textContent = `Loading ${meta.name || meta.id}...`;
  const frame = document.createElement('iframe');
  frame.src = `${BACKEND_URL}/${meta.id}/${meta.entry || 'index.html'}`;
  frame.onload = () => { rightStatus.textContent = `Playing ${meta.name || meta.id}`; };
  frame.onerror = () => { rightStatus.textContent = `Failed to load ${meta.id}`; };
  const container = document.getElementById('playFrame');
  container.innerHTML = '';
  container.appendChild(frame);
}

function showInfo(meta){
  alert(`Name: ${meta.name || meta.id}\nID: ${meta.id}\nTags: ${(meta.tags||[]).join(', ')}\nEntry: ${meta.entry}`);
}

async function probeId(id){
  try{
    const res = await fetch(`${BACKEND_URL}/${id}/meta.json`, {cache:'no-store'});
    if(!res.ok) throw new Error('no');
    const meta = await res.json();
    meta.id = meta.id ?? id;
    meta.name = meta.name ?? `Game ${meta.id}`;
    meta.image = meta.image ?? 'cover.png';
    meta.entry = meta.entry ?? 'index.html';
    meta.tags = meta.tags ?? [];
    if(!discovered.has(String(meta.id))){
      discovered.set(String(meta.id), meta);
      renderGrid();
    }
    return true;
  }catch(e){ return false; }
}

async function runScannerBatch(){
  let i = 0;
  function next(){
    if(i >= triesPerBatch) return Promise.resolve();
    i++;
    const id = Math.floor(Math.random() * MAX_ID);
    return probeId(id).finally(()=>{});
  }
  const runners = new Array(concurrency).fill(0).map(async ()=>{ while(i < triesPerBatch){ await next(); await new Promise(r=>setTimeout(r,60)); } });
  await Promise.all(runners);
  scanning = false;
  scanStatus.textContent = `Scan finished. Found ${discovered.size} worlds.`;
}

function startScan(){ if(scanning) return; scanning = true; scanStatus.textContent='Scanning for worlds...'; runScannerBatch(); }
function stopScan(){ scanning=false; scanStatus.textContent='Scan stopped'; }
function loadMore(){ if(!scanning) startScan(); else scanStatus.textContent='Already scanning...'; }

// initial scan
startScan();
</script>

</body>
</html>
